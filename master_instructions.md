## Инструкции по работе с репозиторием

1. **Общие подходы**
   - Соблюдайте текущую архитектуру: на фронтенде придерживаемся Feature-Sliced Design (папки `app`, `entities`, `features`, `widgets`, `shared`, `pages`), на бэкенде – Express + Sequelize с выделением маршрутов, моделей и вспомогательных модулей.
   - Используйте ES Modules и TypeScript (во фронте) повсеместно; избегайте смешения синтаксиса.
   - Сохраняйте единый стиль кодирования и именования: файлы страниц `*Page.tsx`, виджеты `*Widget`, фичи `feature-name/action`.

2. **Backend**
   - Новые модели добавляйте в `backend/src/models`, регистрируйте в `backend/src/db/index.js` и связывайте через `associate`.
   - Для бизнес‑логики создавайте отдельные файлы в `backend/src/features/<domain>` или `routes/<domain>/utils`.
   - Обязательно оборачивайте сложные операции с несколькими таблицами в транзакции `sequelize.transaction`.
   - Новые маршруты подключайте через `backend/src/app.js` и выделяйте под них под‑роутеры (например, `/api/<domain>`).
   - Планировщики и фоновые задачи размещайте в `backend/src/features`, запускайте их из `server.js`.

3. **Frontend**
   - Для новых возможностей определяйте слой заранее: 
     - данные/типы идут в `entities`,
     - бизнес‑процессы и API вызовы – в `features`,
     - композиции и блоки страниц – в `widgets`,
     - сами страницы – в `pages`.
   - Пользуйтесь существующими провайдерами (`app/providers`) и алиасами (`@/...`).
   - Глобальные состояния оформляйте через Redux Toolkit (`StoreProvider`), локальные — через React state; сетевые запросы – через TanStack Query/axios клиента `shared/api/client.tsx`.
   - Визуальные компоненты складывайте в `shared/ui`, переиспользуйте Mantine/Tailwind стили, избегайте дублирования.

4. **Тестирование и качество**
   - Внимательно следите за типами и проверяйте все новые API контракты как на бэкенде, так и во фронтовых запросах.
   - Документируйте сложные решения короткими комментариями или README в соответствующих папках.

5. **Расширение функциональности**
   - При необходимости новых API добавляйте описание и примеры использования в `README.md` соответствующего пакета.
   - Соблюдайте консистентность DTO/форматов данных между бэком и фронтом; в shared слое храните вспомогательные форматтеры и константы.
   - Используйте существующие утилиты (например, `shared/utils/formatPrice` или `backend/src/utils/dates`) вместо создания дублей.

Следуя этим правилам, вы сохраните целостность кода и ускорите дальнейшее развитие проекта.
