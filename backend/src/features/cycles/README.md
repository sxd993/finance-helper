# Модуль циклов (`cycles`)

Модуль отвечает за автоматический сброс конвертов пользователей по расписанию. Основа находится в `cycle.js`, вспомогательные утилиты — в `utils.js`.

## Основная логика
1. Пользователь регистрируется, после чего автоматически запускается цикл в зависимости от параметров, которые он выбрал при регистрации (weekly или monthly)
2. Пользователь создает какой-либо конверт
3. Каждый час запускается планировщик задач, который проверяет цикл каждого пользователя и если сегодняшняя дата и время > 7 суток и 30 суток, то делается сброс initital_amount в каждом сбрасываемом конверте
4. Конверты обновлены

## Расписание
- Планировщик запускается раз в час: `cron.schedule('0 * * * *', runCycleReset)`.
- При старте сервера выполняется первый запуск немедленно, чтобы не ждать следующего часа.

## Полезные файлы
- `cycle.js` — основная логика планировщика и обработки пользователей.
- `utils.js` — утилиты: определение сбрасываемых типов и расчёт даты.
- `models/Convert.js` — описание конвертов и их полей.